<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>缓进急展——募集军队</title>
    <!-- 引入刚刚下载的 ECharts 文件 -->
    <script src="echarts.js"></script>
</head>
<body style="background-color:#00192E;">                  <!-- 设置页面背景颜色 -->
    <style>
        #main {
            display: flex;
            justify-content: space-between;
            margin: 65px;
            height: 450px
        }
        html,
        body {
          width: 100%;
        }
    </style>
<body>
    <div id="main">
        <div id="description" style="color: ghostwhite">
    </div>

</body>
    <div id="main"></div>
    <script type="text/javascript">
var chartDom = document.getElementById('main');
var myChart = echarts.init(chartDom);
var option;

option = {
        color: [
        "#e01f54",//玫红
        // "#001852",//深蓝
        "#f5e8c8",
        "#b8d2c7",
        // "#c6b38e",//土黄
        // "#a4d8c2",
        // "#f3d999",//灰粉
        // "#d3758f",
        // "#dcc392",
        "#2e4783",
        "#82b6e9",
        "#ff6347",
        "#a092f1",
        "#0a915d",
        "#eaf889",
        "#6699FF",
        "#ff6666",
        "#3cb371",
        "#d5b158",
        "#38b6b6"
    ],
  title: {
    text: '缓进急战——募集军队',
    left: 'middle',
    textStyle: {
        color: '#eee',
        fontsize: 2000
    }
  },
  tooltip: {
    trigger: 'item',
    formatter: '{a} <br/>{b} : {c} ({d}%)'
  },
  legend: {
    orient: 'vertical',
    left: 'right',
    data: ['湘军/人', '嵩武军/人', '金顺军/人', '蜀军/人'],
    textStyle: {
        color: '#fff',
        fontSize: 16
    }
  },
  series: [
    {
      name: '军队来源',
      type: 'pie',
      radius: '80%',
      center: ['60%', '50%'],
      data: [
        { value: [17000], name: '湘军/人' },
        { value: [10000], name: '嵩武军/人' },
        { value: [40000], name: '金顺军/人' },
        { value: [5000], name: '蜀军/人' }
      ],
      emphasis: {
        itemStyle: {
          shadowBlur: 10,
          shadowOffsetX: 0,
          shadowColor: 'rgba(0, 0, 0, 0.5)'
        }
      }
    }
  ]
};

let currentIndex = -1;

setInterval(function() {
  var dataLen = option.series[0].data.length;
  // 取消之前高亮的图形
  myChart.dispatchAction({
    type: 'downplay',
    seriesIndex: 0,
    dataIndex: currentIndex
  });
  currentIndex = (currentIndex + 1) % dataLen;
  // 高亮当前图形
  myChart.dispatchAction({
    type: 'highlight',
    seriesIndex: 0,
    dataIndex: currentIndex
  });
  // 显示 tooltip
  myChart.dispatchAction({
    type: 'showTip',
    seriesIndex: 0,
    dataIndex: currentIndex
  });
}, 1000);

option && myChart.setOption(option);

</script>
</body>
</html>
